<template>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <router-link class="navbar-brand" to="/dashboard">Dashboard</router-link>
            <router-link class="navbar-brand" to="/">Home</router-link>

            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#dashboardNavbar"
                aria-controls="dashboardNavbar"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="dashboardNavbar">
                <ul class="navbar-nav ms-auto">
                    <!-- Profile Link -->
                    <li class="nav-item">
                        <router-link class="nav-link" to="/dashboard/profile">Profile</router-link>
                    </li>

                    <!-- Dropdown Menu for Dashboard Links -->
                    <li class="nav-item dropdown">
                        <button
                            class="btn btn-secondary dropdown-toggle ms-2"
                            id="dashboardMenu"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                        >
                            üìö Dashboard Menu
                        </button>

                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dashboardMenu">
                            <li>
                                <router-link class="dropdown-item" to="/dashboard/upload-file">
                                    üìÑ Upload a Paper
                                </router-link>
                            </li>
                            <li>
                                <router-link class="dropdown-item" to="/dashboard/uploads">
                                    üì§ Uploads
                                </router-link>
                            </li>
                            <li>
                                <router-link class="dropdown-item" to="/dashboard/downloads">
                                    üì• Downloads
                                </router-link>
                            </li>
                            <li>
                                <router-link class="dropdown-item" to="/dashboard/earnings">
                                    üí∞ Earnings
                                </router-link>
                            </li>
                            <li>
                                <router-link class="dropdown-item" to="/dashboard/reviews">
                                    ‚≠ê Reviews
                                </router-link>
                            </li>
                            <li><hr class="dropdown-divider" /></li>
                            <li>
                                <button class="dropdown-item text-danger" @click="logout">
                                    üö™ Logout
                                </button>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</template>

<script>
import { mapActions } from 'vuex';
export default {
    name: 'DashboardNavbar',
    methods: {
        ...mapActions('authentication', ['logout']),

        handleLogout() {
            this.$router.push('/');
            this.logout();
        },
    },
};
</script>

<style scoped>
.navbar {
    margin-bottom: 20px;
}

/* Cart Badge */
.cart-badge {
    position: absolute;
    top: 5px;
    right: -10px;
    background: red;
    color: white;
    font-size: 12px;
    font-weight: bold;
    padding: 4px 8px;
    border-radius: 50%;
}
.dropdown-menu {
    min-width: 220px;
}

.dropdown-item:hover {
    background-color: #f8f9fa;
}

.dropdown-item.text-danger {
    font-weight: 500;
}
</style>
